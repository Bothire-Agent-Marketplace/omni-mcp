---
description: 
globs: 
alwaysApply: true
---
# Omni MCP Project - Global Rules

## ğŸ—ï¸ **Project Identity**
This is a **monorepo for large-scale MCP (Model Context Protocol) deployments** following enterprise patterns for managing 100+ MCP servers.

## ğŸ“ **Repository Structure (MANDATORY)**
```
omni/
â”œâ”€â”€ servers/                    # Individual MCP servers (one per service)
â”œâ”€â”€ gateway/                    # MCP Gateway for routing/orchestration  
â”œâ”€â”€ shared/schemas/             # âœ… MANDATORY shared types for all servers
â”œâ”€â”€ packages/dev-tools/         # Development utilities
â”œâ”€â”€ client-integrations/        # Claude Desktop, Cursor, OpenWebUI configs
â”œâ”€â”€ deployment/                 # Infrastructure as Code
â””â”€â”€ compose/                    # Docker compose for local development
```

## ğŸ¯ **Core Architectural Principles**
- **Hub-and-Spoke**: All servers integrate through MCP Gateway
- **Single Responsibility**: Each server focuses on one external service
- **Shared Types**: ALL servers MUST use `@mcp/schemas` package
- **Type Safety**: Use `McpResponse<T>` for ALL tool returns
- **Enterprise Scale**: Ready for 100+ MCP servers

## ğŸš« **Global Anti-Patterns (NEVER DO)**
- âŒ Don't create custom response types (use `McpResponse<T>`)
- âŒ Don't skip shared type imports from `@mcp/schemas`
- âŒ Don't create direct client-server connections (use gateway)
- âŒ Don't duplicate type definitions across servers
- âŒ Don't ignore TypeScript strict mode errors

## ğŸ¯ **Code Generation Defaults**
When creating new code:
1. **Start with shared type imports** from `@mcp/schemas`
2. **Use existing Linear server as template**
3. **Follow established patterns** in the codebase
4. **Include proper error handling** with `McpResponse<T>`
5. **Add TypeScript strict compliance**
